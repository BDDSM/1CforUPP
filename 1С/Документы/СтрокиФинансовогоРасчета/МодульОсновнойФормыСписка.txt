// <Описание процедуры>
//
// Параметры
//  <Параметр1>  – <Тип.Вид> – <описание параметра>
//                 <продолжение описания параметра>
//  <Параметр2>  – <Тип.Вид> – <описание параметра>
//                 <продолжение описания параметра>
//
Процедура ИзменитьКодЭлемента(Направление)

	СортировкаПоКоду = Истина;

	Если Порядок.Количество() = 0 Тогда
		СортировкаПоКоду = Ложь;
	ИначеЕсли Порядок.Получить(0).Представление <> "Код" Тогда
		СортировкаПоКоду = Ложь;
	КонецЕсли;

	Если Не СортировкаПоКоду Тогда
		Предупреждение("Для изменения порядка следования 
						|необходимо установить сортировку по коду.");

		Если Вопрос("Установить сортировку по коду?", РежимДиалогаВопрос.ДаНетОтмена, , КодВозвратаДиалога.Да) = КодВозвратаДиалога.Да Тогда
			Порядок.Установить("Код");
		КонецЕсли;

		Возврат;
	КонецЕсли;

	НаправлСорт = Порядок.Получить(0).Направление;

	Если НаправлСорт = НаправлениеСортировки.Возр Тогда
		Направление = Направление * (-1);
	КонецЕсли;

	ТекСтрока = ЭлементыФормы.СправочникСписок.ТекущаяСтрока;
	Если ТекСтрока <> Неопределено Тогда
		ТекОбъект = ЭлементыФормы.СправочникСписок.ТекущаяСтрока.ПолучитьОбъект();
		ТекОбъект.ИзменитьКод(Направление);
	КонецЕсли;

КонецПроцедуры // ИзменитьКодЭлемента()

// Процедура - обработчик события "Действие" кнопки 
// КоманднаяПанельПереместитьВверх командной панели формы.
//
Процедура ДействияФормыКоманднаяПанельПереместитьВверх(Кнопка)

	ИзменитьКодЭлемента(-1);

КонецПроцедуры // ДействияФормыКоманднаяПанельПереместитьВверх()

// Процедура - обработчик события "Действие" кнопки 
// КоманднаяПанельПереместитьВниз командной панели формы.
//
Процедура ДействияФормыКоманднаяПанельПереместитьВниз(Кнопка)

	ИзменитьКодЭлемента(1);

КонецПроцедуры // ДействияФормыКоманднаяПанельПереместитьВниз()


Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	Если  ПараметрОтборПоВладельцу=Неопределено Тогда
		
		Сообщить("Справочник относится к подсистеме ""Бюджетирование"" и не предназначен для открытия из меню ""Операции"".",СтатусСообщения.Внимание);
		Отказ=Истина;
		
	КонецЕсли;
	
	Порядок.Установить("Код");
	
КонецПроцедуры