// Процедура управляет видимостью формы.
//
Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(ЭтотОбъект.Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры
Процедура УстановитьВидимость()

	Если ТипОплаты = Перечисления.ТипыОплатЧекаККМ.БанковскийКредит Тогда
		ЭлементыФормы.ПанельБанковскийКредит.Свертка = РежимСверткиЭлементаУправления.Нет;
	Иначе
		ЭлементыФормы.ПанельБанковскийКредит.Свертка = РежимСверткиЭлементаУправления.Верх;
	КонецЕсли;

КонецПроцедуры // УстановитьВидимость()

// Обработчик события "ПриИзменении" реквизита "ТипОплаты".
//
Процедура ТипОплатыПриИзменении(Элемент)

	УстановитьВидимость();

КонецПроцедуры // ТипОплатыПриИзменении()

// Обработчик события "ПриОткрытии" формы.
//
Процедура ПриОткрытии()

	УстановитьВидимость();

	МеханизмНумерацииОбъектов.ДобавитьВМенюДействияКнопкуРедактированияКода(ЭлементыФормы.ДействияФормы.Кнопки.Подменю);
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю,ЭлементыФормы.Код);
КонецПроцедуры // ПриОткрытии()

// Обработчик события "ПриИзменении" реквизита "БанкКредитор".
//
Процедура БанкКредиторПриИзменении(Элемент)

	Если ДоговорВзаиморасчетовБанкаКредитора.Владелец <> БанкКредитор Тогда
		ДоговорВзаиморасчетовБанкаКредитора = БанкКредитор.ОсновнойДоговорКонтрагента;
	КонецЕсли;

КонецПроцедуры // БанкКредиторПриИзменении()

// Обработчик события "ПриИзменении" реквизита "ДоговорВзаиморасчетовБанкаКредитора".
//
Процедура ДоговорВзаиморасчетовБанкаКредитораПриИзменении(Элемент)

	Если ДоговорВзаиморасчетовБанкаКредитора.Владелец <> БанкКредитор Тогда
		БанкКредитор = ДоговорВзаиморасчетовБанкаКредитора.Владелец;
	КонецЕсли;

КонецПроцедуры // ДоговорВзаиморасчетовБанкаКредитораПриИзменении()

// Обработчик события "ПослеЗаписи" формы.
//
Процедура ПослеЗаписи()

	МеханизмНумерацииОбъектов.ОбновитьПодсказкуКодНомерОбъекта(ЭтотОбъект.Метаданные(), ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);

КонецПроцедуры // ПослеЗаписи()