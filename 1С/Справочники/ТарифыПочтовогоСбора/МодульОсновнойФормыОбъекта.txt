Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры


Процедура ПриОткрытии()
	
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
	
	СоставШкалы.Отбор.Тариф.Значение = Ссылка;
	СоставШкалы.Отбор.Тариф.Использование = Истина;
	СоставШкалы.Прочитать();

КонецПроцедуры

Процедура ПриЗаписи(Отказ)
	
	Если СоставШкалы.Модифицированность() Тогда
		
		СоставШкалы.Отбор.Тариф.Значение = Ссылка;
		Для Каждого Строка Из СоставШкалы Цикл
			Строка.Тариф = Ссылка;
			Строка.НомерСтрокиШкалы = СоставШкалы.Индекс(Строка) + 1;
		КонецЦикла;
		СоставШкалы.Записать();

	КонецЕсли;
	
КонецПроцедуры

Процедура СоставШкалыПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)
	Если Не ОтменаРедактирования Тогда
		Модифицированность = Истина
	КонецЕсли;
КонецПроцедуры

Процедура СоставШкалыПослеУдаления(Элемент)
	
	Модифицированность = Истина

КонецПроцедуры