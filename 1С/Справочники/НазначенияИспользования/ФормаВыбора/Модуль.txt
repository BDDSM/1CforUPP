// Обработчик события ПередОткрытием формы.
//
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	Если РежимВыбора И НЕ ЗначениеЗаполнено(ПараметрОтборПоВладельцу) Тогда
		ФормаВыбораВладельца = Справочники.Номенклатура.ПолучитьФормуВыбора();
		ФормаВыбораВладельца.Заголовок = "Выберите элемент справочника Номенклатура, Назначение использование которого Вы хотите выбирать.";
		ПараметрОтборПоВладельцу = ФормаВыбораВладельца.ОткрытьМодально();
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ПараметрОтборПоВладельцу) Тогда
		
		Если ПараметрОтборПоВладельцу.Услуга ИЛИ ПараметрОтборПоВладельцу.Набор Тогда
			Предупреждение("Для номенклатуры """ + ПараметрОтборПоВладельцу + """ не применяются назначения использования!");
			Отказ = Истина;
		КонецЕсли;
		
	Иначе
		Предупреждение("Не выбрана номенклатура или не записан редактируемый элемент номенклатуры!");
		Отказ = Истина;		
	КонецЕсли;
	
КонецПроцедуры // ПередОткрытием()