////////////////////////////////////////////////////////////////////////////////
// ВСПОМОГАТЕЛЬНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПриОткрытии()
	
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.КоманднаяПанель1.Кнопки.Подменю, ЭлементыФормы.Код);	
	
	Шкала.Отбор.КоэффициентСтажа.Значение = Ссылка;
	Шкала.Отбор.КоэффициентСтажа.Использование = Истина;
	
	Шкала.Прочитать();
	
КонецПроцедуры

Процедура ПриЗаписи(Отказ)
	Если Шкала.Модифицированность() Тогда
		Шкала.Отбор.КоэффициентСтажа.Значение = Ссылка;
		Для Каждого СтрокаНабора Из Шкала Цикл
			СтрокаНабора.КоэффициентСтажа = Ссылка;
			СтрокаНабора.НомерСтрокиШкалы = Шкала.Индекс(СтрокаНабора) + 1;
		КонецЦикла;
		Шкала.Записать();
	КонецЕсли;
КонецПроцедуры


Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.КоманднаяПанель1.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры