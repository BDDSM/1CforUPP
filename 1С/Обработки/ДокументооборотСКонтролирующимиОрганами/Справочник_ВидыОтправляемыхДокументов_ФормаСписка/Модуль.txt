////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ОБЩЕГО НАЗНАЧЕНИЯ

// Отображает в форме описание регламентированного отчета.
//
// Параметры
//  ТекЭлемент  – СправочникСсылка – текущий элемент справочника.
//
Процедура ПоказатьОписаниеОтчета(ТекЭлемент)

	ТекущееОписание = ТекЭлемент.Описание;
	ЭлементыФормы.НадписьОписаниеОтчета.Значение = ТекущееОписание;

КонецПроцедуры // ПоказатьОписаниеОтчета()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	Если Не РежимВыбора Тогда
		ЭлементыФормы.ДействияФормы.Кнопки.Удалить(0);
		ЭлементыФормы.ДействияФормы.Кнопки.Удалить(0);
	КонецЕсли;
КонецПроцедуры

// Процедура - обработчик события "ПриОткрытии" формы.
//
Процедура ПриОткрытии()

	ЭлементыФормы.СправочникСписок.АвтоКонтекстноеМеню = Ложь;
	ЭлементыФормы.СправочникСписок.КонтекстноеМеню     = ЭлементыФормы.ДействияФормы;

	Порядок.Установить("Код");

КонецПроцедуры // ПриОткрытии()

// Обработчик события "ОбработкаЗаписиНовогоОбъекта" формы.
//
Процедура ОбработкаЗаписиНовогоОбъекта(Объект, Источник)

	ЭлементыФормы.СправочникСписок.ТекущаяСтрока = Объект.Ссылка;

КонецПроцедуры // ОбработкаЗаписиНовогоОбъекта()


///////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ДИАЛОГА

// Процедура - обработчик события "ПередУдалением" табличного поля "Список" формы.
//
Процедура СписокПередУдалением(Элемент, Отказ)

	Если Элемент.ТекущиеДанные.Ссылка.Предопределенный Тогда
		Отказ = Истина;
	КонецЕсли;

КонецПроцедуры // СписокПередУдалением()

// Процедура - обработчик события "ПриАктивизацииСтроки" табличного поля "Список" формы.
//
Процедура СписокПриАктивизацииСтроки(Элемент)

	ТекущиеДанные = Элемент.ТекущиеДанные;

	Если Не ТекущиеДанные = Неопределено Тогда
		ПоказатьОписаниеОтчета(ТекущиеДанные);
	КонецЕсли;
	
КонецПроцедуры // СписокПриАктивизацииСтроки()

// Процедура - обработчик события "ЗаписанНовыйОбъект" табличного поля "Список" формы.
//
Процедура СписокОбработкаЗаписиНовогоОбъекта(Элемент, Объект, СтандартнаяОбработка)

	ЭлементыФормы.СправочникСписок.ТекущаяСтрока = Объект.Ссылка;

КонецПроцедуры // СписокОбработкаЗаписиНовогоОбъекта()

Процедура ДействияФормыВосстановитьПредопределенные(Кнопка)
	Если Вопрос("Будут восстановлены исходные реквизиты всех предопределенных элементов справочника." + Символы.ПС + "Продолжить?", РежимДиалогаВопрос.ДаНет) <> КодВозвратаДиалога.Да Тогда
		Возврат;
	КонецЕсли;
	
	РегламентированнаяОтчетность.ЗаполнитьПредопределенныеВидыОтправляемыхДокументов();
КонецПроцедуры

СправочникСписок.Колонки.Добавить("Описание");
СправочникСписок.Колонки.Добавить("ТипПолучателя");
СправочникСписок.Колонки.Добавить("Источник");