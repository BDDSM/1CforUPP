Перем ПоказыватьПоОрганизациям;

Процедура ОбновитьСписок()
	
	ЭлементыФормы.ДействияФормы.Кнопки.ПоказыватьПоОрганизациям.Пометка = ПоказыватьПоОрганизациям;
	РаботаСДиалогамиЗК.ИзменитьВидимостьПанелиПоГоризонтали(ЭтаФорма, ПоказыватьПоОрганизациям, "ПанельНачисленияУпр", "НачисленияРегл");
	
КонецПроцедуры

///////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	РабочийСтолПереопределяемый.ФормаНачисленийПередОткрытием(ЭтаФорма);
	
	// ПоказыватьПоОрганизациям
	ПоказыватьПоОрганизациям = ВосстановитьЗначение("ФормаНачисленийПоказыватьПоОрганизациям");
	Если ПоказыватьПоОрганизациям = Неопределено Тогда
		ПоказыватьПоОрганизациям = Истина;
	КонецЕсли;
	
	ОбновитьСписок();
	
	ЭлементыФормы.РамкаГруппыНачисленияУпр.Заголовок = "Начисления " + ОбщегоНазначения.ПреобразоватьСтрокуИнтерфейса("предприятия");

КонецПроцедуры

Процедура ПередЗакрытием(Отказ, СтандартнаяОбработка)
	
	СохранитьЗначение("ФормаНачисленийПоказыватьПоОрганизациям", ПоказыватьПоОрганизациям);

КонецПроцедуры

///////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМНТОВ ФОРМЫ

Процедура ДействияФормыПоказыватьПоОрганизациям(Кнопка)
	
	ПоказыватьПоОрганизациям = Не ПоказыватьПоОрганизациям;
	
	ОбновитьСписок();
	
КонецПроцедуры