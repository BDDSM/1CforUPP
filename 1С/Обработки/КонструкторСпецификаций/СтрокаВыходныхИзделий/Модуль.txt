////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ ДЛЯ УПРАВЛЕНИЯ ВНЕШНИМ ВИДОМ ФОРМЫ

// Процедура - устанавливает доступность элементов формы.
//
Процедура УстановитьДоступность()
	
	ЭлементыФормы.НадписьНомерОперацииМаршрута.Доступность = мВедениеПланированияПроизводстваПоСменам;
	ЭлементыФормы.НомерОперацииМаршрута.Доступность = мВедениеПланированияПроизводстваПоСменам;
	
	ЭлементыФормы.НадписьХарактеристикаНоменклатуры.Доступность = ИспользуютсяХарактеристикиНоменклатуры;
	ЭлементыФормы.ХарактеристикаНоменклатуры.Доступность = ИспользуютсяХарактеристикиНоменклатуры;
	
	ЭлементыФормы.НадписьХарактеристикаНоменклатуры.Доступность = ИспользуютсяХарактеристикиНоменклатуры;
	ЭлементыФормы.ХарактеристикаНоменклатуры.Доступность = ИспользуютсяХарактеристикиНоменклатуры;

КонецПроцедуры // УстановитьДоступность()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура - обработчик события "ПриОткрытии" формы.
//
Процедура ПриОткрытии()
	
	Заголовок = "Строка выходных изделий спецификации: "+СпецификацияОбъект;
	
	УстановитьДоступность();
	
КонецПроцедуры // ПриОткрытии()

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ, ВЫЗЫВАЕМЫЕ ИЗ ЭЛЕМЕНТОВ ФОРМЫ

// Процедура вызывается при нажатии кнопки "ОК" командной панели.
//
Процедура ОсновныеДействияФормыОК(Элемент)
	
	Закрыть(Истина);
	
КонецПроцедуры // ОсновныеДействияФормыОК()

// Процедура вызывается при нажатии кнопки "Закрыть" командной панели.
//
Процедура ОсновныеДействияФормыЗакрыть(Кнопка)
	
	Если Модифицированность Тогда
		Ответ = Вопрос("Данные были изменены. Сохранить изменения?", РежимДиалогаВопрос.ДаНет);
		Если Ответ = КодВозвратаДиалога.Да Тогда
			Возврат;
		КонецЕсли;
	КонецЕсли;
	
	Закрыть(Ложь);
	
КонецПроцедуры // ОсновныеДействияФормыЗакрыть()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

// Процедура - обработчик события "ПриИзменении" поля "Номенклатура".
//
Процедура НоменклатураПриИзменении(Элемент)
	
	Если Номенклатура <> ХарактеристикаНоменклатуры.Владелец Тогда
		ХарактеристикаНоменклатуры = Неопределено;
	КонецЕсли;
	
	Если Номенклатура <> ЕдиницаИзмерения.Владелец Тогда
		ЕдиницаИзмерения = Неопределено;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Номенклатура) Тогда
		ЕдиницаИзмерения = Номенклатура.ЕдиницаХраненияОстатков;
		СтатьяЗатрат = Номенклатура.СтатьяЗатрат;
	КонецЕсли;	
	
КонецПроцедуры // НоменклатураПриИзменении()

// Процедура - обработчик события "НачалоВыбораИзСписка" поля номера операции маршрута.
//
Процедура НомерОперацииМаршрутаНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	
	ЗаполнитьСписокНомеровОперацийМаршрута(Элемент, СпецификацияОбъект.Ссылка);
	
КонецПроцедуры // НомерОперацииМаршрутаНачалоВыбораИзСписка()